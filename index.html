<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Warung Pak Jhon Regency</title>
  <style>
    :root {
      --bg: #f5f6f8;
      --card: #fff;
      --primary: #0f6a63;
      --accent: #f6b21a;
      --muted: #666;
      --shadow: 0 4px 12px rgba(0,0,0,0.08);
    }
    * { box-sizing: border-box; font-family: 'Inter', Arial, sans-serif; }
    body { background: var(--bg); margin: 0; color: #111; }

    header {
      background: linear-gradient(90deg, #0b4b47, #0f6a63);
      color: #fff;
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 14px 18px;
    }
    header img {
      width: 58px;
      height: 58px;
      border-radius: 10px;
      object-fit: cover;
    }
    header h1 {
      margin: 0;
      font-size: 20px;
      font-weight: 700;
    }
    main {
      display: grid;
      grid-template-columns: 1fr 320px;
      gap: 20px;
      max-width: 1100px;
      margin: 18px auto;
      padding: 0 16px;
    }
    .panel {
      background: var(--card);
      padding: 16px;
      border-radius: 12px;
      box-shadow: var(--shadow);
    }
    .cats {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 12px;
    }
    .chip {
      background: #fff;
      border: 1px solid #ccc;
      border-radius: 999px;
      padding: 8px 14px;
      cursor: pointer;
    }
    .chip.active {
      background: var(--primary);
      color: #fff;
      border-color: var(--primary);
    }
    .controls {
      display: flex;
      justify-content: space-between;
      margin-bottom: 12px;
    }
    .controls input, .controls select {
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 8px;
    }
    .menu-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
      gap: 12px;
    }
    .card {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px;
      background: #fff;
      border-radius: 10px;
      border: 1px solid #eee;
      box-shadow: var(--shadow);
    }
    .card img {
      width: 110px;
      height: 80px;
      border-radius: 8px;
      object-fit: cover;
    }
    .info { flex: 1; }
    .info h4 { margin: 0; font-size: 15px; font-weight: 600; }
    .info .price { margin-top: 4px; font-weight: 700; }
    .btn {
      border: none;
      border-radius: 8px;
      cursor: pointer;
      padding: 7px 10px;
      margin-top: 4px;
      font-size: 13px;
    }
    .btn-add { background: var(--accent); color: #111; font-weight: 700; }
    .cart {
      background: var(--card);
      border-radius: 10px;
      padding: 10px;
      box-shadow: var(--shadow);
    }
    .cart h3 { margin-top: 0; }
    footer {
      text-align: center;
      color: var(--muted);
      font-size: 14px;
      margin: 16px 0;
    }
    @media(max-width:900px) {
      main { grid-template-columns: 1fr; }
    }
  </style>
</head>

<body>
<header>
  <img id="logo" src="" alt="Logo Warung">
  <div>
    <h1>Warung Pak Jhon Regency</h1>
    <div style="font-size:13px;opacity:0.8;">Ruko De Blossom Ville, Blok E3 No.11, Sepinggan</div>
  </div>
</header>

<main>
  <section class="panel">
    <h2>Daftar Menu</h2>

    <div class="cats" id="categoryButtons"></div>

    <div class="controls">
      <input id="search" placeholder="Cari menu..." oninput="renderMenu()">
      <select id="sort" onchange="renderMenu()">
        <option value="default">Urutkan</option>
        <option value="price_asc">Harga ↑</option>
        <option value="price_desc">Harga ↓</option>
        <option value="name_asc">Nama A→Z</option>
      </select>
    </div>

    <div id="menuGrid" class="menu-grid"></div>
  </section>

  <aside class="cart">
    <h3>Keranjang</h3>
    <div id="cartItems" style="min-height:60px;color:#888;">Belum ada item</div>
    <hr>
    <div><strong>Total:</strong> Rp <span id="total">0</span></div>
    <button class="btn btn-add" style="width:100%;margin-top:10px" onclick="checkout()">Checkout</button>
  </aside>
</main>

<footer>© 2025 Warung Pak Jhon Regency</footer>

<script>
const IMAGES_PREFIX = 'images/';
const PLACEHOLDER = 'data:image/svg+xml;utf8,'+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="200" height="120"><rect width="100%" height="100%" fill="#eee"/><text x="50%" y="50%" fill="#aaa" font-size="14" text-anchor="middle">No Image</text></svg>');

const MENU = [
  {id:'1',name:'Nasi Kuning - Telur',price:13000,img:'nk_telur.jpg',category:'Makanan'},
  {id:'2',name:'Nasi Kuning - Daging',price:16000,img:'nk_daging.jpg',category:'Makanan'},
  {id:'3',name:'Nasi Kuning - Ikan',price:20000,img:'nk_ikan.jpg',category:'Makanan'},
  {id:'4',name:'Nasi Kuning - Ayam Bakar',price:16000,img:'nasi kuning ayam bakar.jpg',category:'Makanan'},
  {id:'5',name:'Nasi Kuning - Ayam Krispi',price:16000,img:'nk_ayam krispi.jpg',category:'Makanan'},
  {id:'6',name:'Paket Tumpeng',price:300000,img:'paket_tumpeng.jpg',category:'Paket'},
  {id:'7',name:'Paket Hampers',price:250000,img:'paket_hampers.jpg',category:'Paket'},
  {id:'8',name:'Paket Liwetan',price:150000,img:'paket_liwetan.jpg',category:'Paket'},
  {id:'9',name:'Es Teh',price:3000,img:'es_teh.jpg',category:'Minuman'},
  {id:'10',name:'Es Mangga',price:5000,img:'es_mangga.jpg',category:'Minuman'},
  {id:'11',name:'Es Alpukat',price:5000,img:'es_alpukat.jpg',category:'Minuman'},
  {id:'12',name:'Es Sirsak',price:5000,img:'es_sirsak.jpg',category:'Minuman'},
  {id:'13',name:'Es Kuwud',price:5000,img:'es_kuwud.jpg',category:'Minuman'}
];

const CATEGORY_BUTTONS = [
  {label:'All', pred:()=>true},
  {label:'Makanan', pred:i=>i.category==='Makanan'},
  {label:'Paket', pred:i=>i.category==='Paket'},
  {label:'Es / Minuman', pred:i=>i.category==='Minuman'}
];

let cart = [];

function rupiah(x){return Number(x).toLocaleString('id-ID');}

function renderCategories(){
  const wrap=document.getElementById('categoryButtons');
  wrap.innerHTML='';
  CATEGORY_BUTTONS.forEach((c,i)=>{
    const b=document.createElement('button');
    b.className='chip'+(i===0?' active':'');
    b.innerText=c.label;
    b.onclick=()=>{
      document.querySelectorAll('.chip').forEach(x=>x.classList.remove('active'));
      b.classList.add('active');
      renderMenu();
    };
    wrap.appendChild(b);
  });
}

function getActiveCategory(){
  const a=document.querySelector('.chip.active');
  return a?a.innerText:'All';
}

function renderMenu(){
  const grid=document.getElementById('menuGrid');
  grid.innerHTML='';
  const cat=getActiveCategory();
  const q=document.getElementById('search').value.toLowerCase();
  let items=MENU.filter(i=>{
    let c=cat==='All'||(cat==='Es / Minuman'&&i.category==='Minuman')||(i.category===cat);
    let s=i.name.toLowerCase().includes(q);
    return c&&s;
  });
  const sort=document.getElementById('sort').value;
  if(sort==='price_asc')items.sort((a,b)=>a.price-b.price);
  if(sort==='price_desc')items.sort((a,b)=>b.price-a.price);
  if(sort==='name_asc')items.sort((a,b)=>a.name.localeCompare(b.name));

  items.forEach(i=>{
    const c=document.createElement('div');c.className='card';
    const img=document.createElement('img');
    img.src=IMAGES_PREFIX+encodeURIComponent(i.img);
    img.onerror=()=>{img.src=PLACEHOLDER;}
    const info=document.createElement('div');info.className='info';
    info.innerHTML=`<h4>${i.name}</h4><div class='price'>Rp ${rupiah(i.price)}</div>`;
    const add=document.createElement('button');add.className='btn btn-add';add.innerText='Tambah';
    add.onclick=()=>addToCart(i);
    c.appendChild(img);c.appendChild(info);c.appendChild(add);
    grid.appendChild(c);
  });
}

function addToCart(item){
  const f=cart.find(x=>x.id===item.id);
  if(f)f.qty++;else cart.push({...item,qty:1});
  renderCart();
}

function renderCart(){
  const box=document.getElementById('cartItems');
  if(cart.length===0){box.innerHTML='Belum ada item';document.getElementById('total').innerText='0';return;}
  box.innerHTML=cart.map(i=>`<div>${i.name} x${i.qty} = Rp ${rupiah(i.qty*i.price)}</div>`).join('');
  const total=cart.reduce((a,b)=>a+b.price*b.qty,0);
  document.getElementById('total').innerText=rupiah(total);
}

function checkout(){
  if(cart.length===0)return alert('Keranjang masih kosong!');
  alert('Pesanan Anda sudah dicatat.');
  cart=[];
  renderCart();
}

function init(){
  const logo=document.getElementById('logo');
  logo.src=IMAGES_PREFIX+encodeURIComponent('logo.png');
  logo.onerror=()=>logo.src=PLACEHOLDER;
  renderCategories();
  renderMenu();
}
init();
</script>
</body>
</html>
