<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<title>Warung Pak Jhon Regency</title>
<style>
:root{--bg:#f6f7f8;--card:#fff;--muted:#6b7280;--accent:#f6b21a;--primary:#0f6a63;--shadow:0 6px 20px rgba(0,0,0,.06)}
*{box-sizing:border-box}body{font-family:Inter,Arial,sans-serif;background:var(--bg);margin:0;color:#111}
header{background:linear-gradient(90deg,#0b4b47,#0f6a63);color:#fff;padding:14px 18px;display:flex;align-items:center;gap:12px}
header img{width:58px;height:58px;border-radius:8px;object-fit:cover}
.wrap{max-width:1100px;margin:18px auto;padding:0 16px;display:grid;grid-template-columns:1fr 320px;gap:18px}
.panel{background:var(--card);border-radius:12px;padding:16px;box-shadow:var(--shadow)}
.cats{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px}
.chip{padding:8px 14px;border-radius:999px;border:1px solid #ddd;background:#fff;cursor:pointer}
.chip.active{background:var(--primary);color:#fff}
.controls{display:flex;justify-content:space-between;margin-bottom:12px}
.controls input,.controls select{padding:8px;border-radius:8px;border:1px solid #ddd}
.menu-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:14px}
.card{display:flex;gap:12px;align-items:center;padding:12px;background:#fff;border-radius:10px;border:1px solid #eee}
.card img{width:110px;height:80px;object-fit:cover;border-radius:8px}
.info{flex:1}.price{margin-top:6px;font-weight:700}
.btn{padding:7px 10px;border:none;border-radius:8px;cursor:pointer}
.btn-add{background:var(--accent);font-weight:700}
.cart{position:sticky;top:12px}
footer{text-align:center;margin:18px 0;color:var(--muted)}
@media(max-width:960px){.wrap{grid-template-columns:1fr}}
</style>
</head>
<body>

<header>
<img id="logo" src="">
<div style="font-weight:700">Warung Pak Jhon Regency</div>
</header>

<main class="wrap">
<section class="panel">
<h2>Daftar Menu</h2>

<div id="categoryButtons" class="cats"></div>

<div class="controls">
<input id="search" placeholder="Cari menu..." oninput="renderMenu()">
<select id="sort" onchange="renderMenu()">
<option value="default">Urut</option>
<option value="price_asc">Harga ↑</option>
<option value="price_desc">Harga ↓</option>
<option value="name_asc">Nama A→Z</option>
</select>
</div>

<div id="menuGrid" class="menu-grid"></div>
</section>

<aside class="panel cart">
<h3>Keranjang</h3>
<div id="cart" style="color:#777">Belum ada item</div>
<div style="margin-top:8px"><b>Total:</b> Rp <span id="total">0</span></div>
<button onclick="checkout()" class="btn btn-add" style="width:100%;margin-top:10px">Checkout</button>
</aside>
</main>

<footer>© 2025 Warung Pak Jhon Regency</footer>

<script>
const F = v=>document.getElementById(v);
const R = n=>Number(n).toLocaleString('id-ID');
const IMG = 'images/';
const PH = 'data:image/svg+xml;utf8,'+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="250" height="150"><rect width="100%" height="100%" fill="#eee"/><text x="50%" y="50%" fill="#aaa" font-size="14" text-anchor="middle" dy=".3em">No image</text></svg>');

const MENU = [
{ id:'nk_telur', name:'Nasi Kuning - Telur', price:13000, img:'nk_telur.jpg', category:'Makanan' },
{ id:'nk_daging', name:'Nasi Kuning - Daging', price:16000, img:'nk_daging.jpg', category:'Makanan' },
{ id:'nk_ikan', name:'Nasi Kuning - Ikan', price:20000, img:'nk_ikan.jpg', category:'Makanan' },
{ id:'nk_ayam_bakar', name:'Nasi Kuning - Ayam Bakar', price:16000, img:'nasi kuning ayam bakar.jpg', category:'Makanan' },
{ id:'nk_ayam_krispi', name:'Nasi Kuning - Ayam Krispi', price:16000, img:'nk_ayam krispi.jpg', category:'Makanan' },

{ id:'paket_tumpeng', name:'Paket Tumpeng', price:300000, img:'paket tumpeng.jpg', category:'Paket' },
{ id:'paket_hampers', name:'Paket Hampers', price:250000, img:'paket_hampers.jpg', category:'Paket' },
{ id:'paket_liwetan', name:'Paket Liwetan', price:150000, img:'paket_liwetan.jpg', category:'Paket' },

{ id:'es_teh', name:'Es Teh', price:3000, img:'es teh.jpg', category:'Minuman' },
{ id:'es_mangga', name:'Es Mangga', price:5000, img:'es mangga.jpg', category:'Minuman' },
{ id:'es_alpukat', name:'Es Alpukat', price:5000, img:'es alpukat.jpg', category:'Minuman' },
{ id:'es_sirsak', name:'Es Sirsak', price:5000, img:'es sirsak.jpg', category:'Minuman' },
{ id:'es_kuwud', name:'Es Kuwud', price:5000, img:'eskuwud.jpg', category:'Minuman' }
];

const CAT = [
{label:'All', show:i=>true},
{label:'Makanan', show:i=>i.category==='Makanan'},
{label:'Paket', show:i=>i.category==='Paket'},
{label:'Minuman', show:i=>i.category==='Minuman'}
];

let cart=[];

function renderCategories(){
const el=F('categoryButtons'); el.innerHTML='';
CAT.forEach((c,i)=>{
let b=document.createElement('button');
b.className='chip'+(i===0?' active':'');
b.textContent=c.label;
b.onclick=()=>{document.querySelectorAll('.chip').forEach(x=>x.classList.remove('active'));b.classList.add('active');renderMenu();}
el.appendChild(b);
});
}

function getFilter(){
return CAT.find(c=>c.label===document.querySelector('.chip.active').textContent).show;
}

function renderMenu(){
const grid=F('menuGrid'), q=F('search').value.toLowerCase(), f=getFilter();
let list=MENU.filter(i=>f(i)&&i.name.toLowerCase().includes(q));
let s=F('sort').value;
if(s==='price_asc')list.sort((a,b)=>a.price-b.price);
if(s==='price_desc')list.sort((a,b)=>b.price-a.price);
if(s==='name_asc')list.sort((a,b)=>a.name.localeCompare(b.name));
grid.innerHTML='';
list.forEach(i=>{
let c=document.createElement('div');c.className='card';
let im=document.createElement('img');im.src=IMG+encodeURIComponent(i.img);im.onerror=()=>im.src=PH;
let info=document.createElement('div');info.className='info';
info.innerHTML=`<div>${i.name}</div><div class="price">Rp ${R(i.price)}</div>`;
let btn=document.createElement('button');btn.className='btn btn-add';btn.textContent='Tambah';btn.onclick=()=>addToCart(i);
c.append(im,info,btn);grid.append(c);
});
}

function addToCart(i){let f=cart.find(x=>x.id===i.id);if(f)f.qty++;else cart.push({...i,qty:1});renderCart();}
function renderCart(){if(cart.length===0){F('cart').textContent='Belum ada item';F('total').textContent='0';return;}
F('cart').innerHTML=cart.map(i=>`${i.name} x${i.qty} = Rp ${R(i.qty*i.price)}`).join('<br>');
F('total').textContent=R(cart.reduce((s,x)=>s+x.qty*x.price,0));}
function checkout(){if(cart.length===0)return alert('Keranjang kosong');alert('Pesanan dicatat');cart=[];renderCart();}
function init(){F('logo').src=IMG+'logo.jpg';F('logo').onerror=()=>F('logo').src=PH;renderCategories();renderMenu();renderCart();}
init();
</script>

</body>
</html>
