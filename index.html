<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Warung Pak Jhon Regency</title>
<style>
:root{--bg:#f6f7f8;--card:#fff;--muted:#6b7280;--accent:#f6b21a;--primary:#0f6a63;--shadow:0 6px 20px rgba(15,31,41,.06)}
*{box-sizing:border-box}body{font-family:Inter,Arial,Helvetica,sans-serif;background:var(--bg);margin:0;color:#111}
header{background:linear-gradient(90deg,#0b4b47,#0f6a63);color:#fff;padding:14px 18px;display:flex;align-items:center;gap:12px}
header img{width:56px;height:56px;border-radius:8px;object-fit:cover}
.wrap{max-width:1100px;margin:18px auto;padding:0 16px;display:grid;grid-template-columns:1fr 320px;gap:18px}
.panel{background:var(--card);border-radius:12px;padding:16px;box-shadow:var(--shadow)}
.cats{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px}
.chip{padding:8px 12px;border-radius:999px;border:1px solid #e9ecef;background:#fff;cursor:pointer}
.chip.active{background:var(--primary);color:#fff;border-color:transparent}
.controls{display:flex;gap:10px;align-items:center;margin-bottom:12px;justify-content:space-between}
.menu-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:14px}
.card{display:flex;gap:12px;align-items:center;padding:12px;border-radius:10px;border:1px solid #f1f1f1;background:#fff}
.card img{width:110px;height:78px;object-fit:cover;border-radius:8px;flex-shrink:0}
.info{flex:1}.price{font-weight:700;margin-top:8px}
.btn{padding:8px 10px;border-radius:8px;border:none;cursor:pointer}.btn-add{background:var(--accent);color:#111;font-weight:700}
aside .panel{position:sticky;top:12px}
footer{text-align:center;margin:16px 0;color:var(--muted)}
@media(max-width:980px){.wrap{grid-template-columns:1fr}.menu-grid{grid-template-columns:1fr}}
small{color:var(--muted)}
</style>
</head>
<body>

<header>
  <img id="logo" src="" alt="logo">
  <div style="font-weight:700">Warung Pak Jhon Regency</div>
</header>

<main class="wrap">
  <section>
    <div class="panel">
      <h2>Daftar Menu</h2>

      <div class="controls">
        <div id="categoryButtons" class="cats"></div>
        <div style="display:flex;gap:8px;align-items:center">
          <input id="search" placeholder="Cari menu..." oninput="renderMenu()" style="padding:8px;border-radius:8px;border:1px solid #e6e6e6">
          <select id="sort" onchange="renderMenu()" style="padding:8px;border-radius:8px;border:1px solid #e6e6e6">
            <option value="default">Urut</option>
            <option value="price_asc">Harga ↑</option>
            <option value="price_desc">Harga ↓</option>
            <option value="name_asc">Nama A→Z</option>
          </select>
        </div>
      </div>

      <div id="menuGrid" class="menu-grid"></div>
    </div>
  </section>

  <aside>
    <div class="panel">
      <h3>Keranjang</h3>
      <div id="cart" style="color:#888">Belum ada item</div>
      <div style="margin-top:8px"><b>Total:</b> Rp <span id="total">0</span></div>
      <button class="btn btn-add" style="width:100%;margin-top:8px" onclick="checkout()">Checkout</button>
      <p style="margin-top:10px"><small>Tip: kalau gambar belum muncul, cek nama file di folder <code>/images</code> harus sama persis dengan yang di kolom <code>img:</code> pada data.</small></p>
    </div>
  </aside>
</main>

<footer>© 2025 Warung Pak Jhon Regency</footer>

<script>
/* ========= KONFIG ========= */
const IMAGES_PREFIX = 'images/'; // folder gambar di repo
const PLACEHOLDER = 'data:image/svg+xml;utf8,'+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="600" height="380"><rect width="100%" height="100%" fill="#f3f3f3"/><text x="50%" y="50%" fill="#bbb" dominant-baseline="middle" text-anchor="middle" font-size="20">No Image</text></svg>');
const rupiah = n => Number(n).toLocaleString('id-ID');

/* ========= DATA MENU =========
   Pastikan NAMA FILE di `img:` sama persis dengan file di folder /images
*/
const MENU = [
  // --- Makanan ---
  {id:'nk_telur',        name:'Nasi Kuning - Telur',       price:13000, img:'nk_telur.jpg',                 category:'Makanan'},
  {id:'nk_daging',       name:'Nasi Kuning - Daging',      price:16000, img:'nk_daging.jpg',                category:'Makanan'},
  {id:'nk_ikan',         name:'Nasi Kuning - Ikan',        price:20000, img:'nk_ikan.jpg',                  category:'Makanan'},
  {id:'nk_ayam_bakar',   name:'Nasi Kuning - Ayam Bakar',  price:16000, img:'nasi kuning ayam bakar.jpg',   category:'Makanan'},
  {id:'nk_ayam_krispi',  name:'Nasi Kuning - Ayam Krispi', price:16000, img:'nk_ayam krispi.jpg',           category:'Makanan'},

  // --- Paket ---
  {id:'paket_tumpeng',   name:'Paket Tumpeng',             price:300000, img:'paket_tumpeng.jpg',           category:'Paket'},
  {id:'paket_hampers',   name:'Paket Hampers',             price:250000, img:'paket_hampers.jpg',           category:'Paket'},
  {id:'paket_liwetan',   name:'Paket Liwetan',             price:150000, img:'paket_liwetan.jpg',           category:'Paket'},

  // --- Minuman (Es) ---
  {id:'es_teh',          name:'Es Teh',                    price:3000,  img:'es_teh.jpg',                   category:'Minuman'},
  {id:'es_mangga',       name:'Es Mangga',                 price:5000,  img:'es_mangga.jpg',                category:'Minuman'},
  {id:'es_alpukat',      name:'Es Alpukat',                price:5000,  img:'es_alpukat.jpg',               category:'Minuman'},
  {id:'es_sirsak',       name:'Es Sirsak',                 price:5000,  img:'es_sirsak.jpg',                category:'Minuman'},
  {id:'es_kuwud',        name:'Es Kuwud',                  price:5000,  img:'es_kuwud.jpg',                 category:'Minuman'}
];

/* Tombol kategori */
const CATEGORY_BUTTONS = [
  {label:'All',      pred: () => true},
  {label:'Makanan',  pred: item => item.category === 'Makanan'},
  {label:'Paket',    pred: item => item.category === 'Paket'},
  {label:'Minuman',  pred: item => item.category === 'Minuman'}
];

/* ========= RENDER ========= */
const $ = id => document.getElementById(id);

function renderCategories(){
  const wrap = $('categoryButtons'); wrap.innerHTML='';
  CATEGORY_BUTTONS.forEach((c,i)=>{
    const b = document.createElement('button');
    b.className = 'chip' + (i===0? ' active':'');
    b.innerText = c.label;
    b.onclick = ()=>{ document.querySelectorAll('.chip').forEach(x=>x.classList.remove('active')); b.classList.add('active'); renderMenu(); };
    wrap.appendChild(b);
  });
}
function activePred(){
  const a = document.querySelector('.chip.active');
  const label = a ? a.innerText : 'All';
  return (CATEGORY_BUTTONS.find(c=>c.label===label) || CATEGORY_BUTTONS[0]).pred;
}
function renderMenu(){
  const grid = $('menuGrid'); grid.innerHTML='';
  const q = ($('search').value||'').toLowerCase();
  const pred = activePred();

  let items = MENU.filter(it => pred(it) && (q==='' || it.name.toLowerCase().includes(q)));

  const sort = $('sort').value;
  if(sort==='price_asc') items.sort((a,b)=>a.price-b.price);
  if(sort==='price_desc') items.sort((a,b)=>b.price-a.price);
  if(sort==='name_asc') items.sort((a,b)=>a.name.localeCompare(b.name));

  if(items.length===0){ grid.innerHTML='<div style="padding:12px;color:#777">Tidak ada menu untuk kategori ini.</div>'; return; }

  items.forEach(it=>{
    const card = document.createElement('div'); card.className='card';
    const img = document.createElement('img');
    img.src = IMAGES_PREFIX + encodeURIComponent(it.img); // aman utk nama ada spasi
    img.alt = it.name;
    img.onerror = ()=>{ img.src = PLACEHOLDER; };
    const info = document.createElement('div'); info.className='info';
    info.innerHTML = `<div style="font-weight:700">${it.name}</div><div class="price">Rp ${rupiah(it.price)}</div>`;
    const btn = document.createElement('button'); btn.className='btn btn-add'; btn.innerText='Tambah'; btn.onclick=()=>addToCart(it);
    card.appendChild(img); card.appendChild(info); card.appendChild(btn);
    grid.appendChild(card);
  });
}

/* ========= CART ========= */
let cart = [];
function addToCart(it){ const f=cart.find(x=>x.id===it.id); if(f)f.qty++; else cart.push({...it,qty:1}); renderCart(); }
function renderCart(){
  const box = $('cart'); const totalEl = $('total');
  if(cart.length===0){ box.innerHTML='Belum ada item'; totalEl.textContent='0'; return; }
  box.innerHTML = cart.map(x=>`${x.name} x${x.qty} = Rp ${rupiah(x.qty*x.price)}`).join('<br>');
  totalEl.textContent = rupiah(cart.reduce((s,x)=>s+x.qty*x.price,0));
}
function checkout(){ if(cart.length===0) return alert('Keranjang kosong'); alert('Pesanan dicatat. Terima kasih!'); cart=[]; renderCart(); }

/* ========= INIT ========= */
function init(){
  // logo
  const logo = $('logo'); logo.onerror=()=>logo.src=PLACEHOLDER; logo.src = IMAGES_PREFIX + encodeURIComponent('logo.png');
  renderCategories(); renderMenu(); renderCart();
}
init();
</script>
</body>
</html>

